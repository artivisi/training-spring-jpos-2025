<?xml version="1.0" encoding="UTF-8"?>
<qserver name="iso-server" class="org.jpos.q2.iso.QServer" logger="Q2">
    <attr name="port" type="java.lang.Integer">${jpos.server.port}</attr>
    <attr name="maxSessions" type="java.lang.Integer">${jpos.server.max-sessions}</attr>

    <channel class="${jpos.server.channel}"
             packager="${jpos.server.packager}">
    </channel>

    <!-- Terminal disconnect listener: handles cleanup on abrupt disconnects -->
    <connection-listener class="com.example.atm.jpos.listener.TerminalDisconnectListener" />

    <!-- Terminal connection listener: handles sign-on and channel registration -->
    <request-listener class="com.example.atm.jpos.listener.TerminalConnectionListener" />

    <!-- Main request listener: forwards messages to transaction manager -->
    <request-listener class="com.example.atm.jpos.IsoRequestListener">
        <property name="queue" value="txnmgr" />
        <property name="space" value="tspace:default" />
    </request-listener>
</qserver>
